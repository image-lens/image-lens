<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ImageLens Sandbox</title>
	</head>

	<body>
		<div>
			<img id="image" src="img1.jpeg" alt="" />
			<div>
				<p>
					⚠️ Avoid circle intersections (like in the top left example). To produce a bug - click on the circle
					within the intercection of another circle
				</p>
				<p>
					I did not find a way to properly handle it, since mouseDown event propagates twice when circles
					intersect.
				</p>
			</div>
		</div>

		<script src="./ImageLens.min.js"></script>

		<script type="module">
			// import ImageLens from '../src/index.js'
			// window.ImageLens = ImageLens

			window.il = new ImageLens()

			const canvas = window.il.init(
				// Id of the image to replace
				'image',

				// ImageLens settings
				{
					canvasSizeMultiplier: 1,
					plusCircleRadius: 15,
					plusIconWidth: 7,
					rectangleFrames: 15,
				},

				// Full list of settings:
				/**
				 * @typedef ImageLensConfig
				 * Config of the ImageLens
				 *
				 * @property {number} canvasSizeMultiplier Multiplier of the canvas size (If set to 2 - canvas size (not canvas dimetions on the page) will be 2x the image size, therefore drawing quality would be 2x better)
				 *
				 * @property {string} plusCircleStrokeColor Color of the plus circle stroke
				 * @property {string} plusCircleStrokeColorHover Color of the plus circle stroke when hovered
				 * @property {string} plusCircleFillColor Color of the plus circle fill
				 * @property {string} plusCircleFillColorHover Color of the plus circle fill when hovered
				 * @property {number} plusCircleRadius Radius of the plus circle
				 * @property {number} plusCircleLineWidth Width of the plus circle stroke
				 *
				 * @property {number} plusIconLineWidth Width of the plus icon stroke
				 * @property {number} plusIconWidth Number of pixels of the plus icon radius
				 * @property {string} plusIconStrokeColor Color of the plus icon stroke
				 * @property {string} plusIconStrokeColorHover Color of the plus icon stroke when hovered
				 *
				 * @property {number} rectangleFrames Number of frames for the rectangle to appear
				 * @property {number} rectangleCircleRadius Corner radius of the rectangle
				 * @property {number} rectangleSublineLength Length of the subline of the rectangle (lines that go beyond the corner arc)
				 * @property {string} rectangleStrokeColor Color of the rectangle stroke
				 * @property {number} rectangleLineWidth Width of the rectangle stroke
				 */

				// ImageLens items
				[
					{
						item: 'intersect1',
						pos: {
							x1: 100,
							x2: 200,
							y1: 100,
							y2: 200,
						},
					},
					{
						item: 'intersect2',
						pos: {
							x1: 110,
							x2: 210,
							y1: 100,
							y2: 200,
						},
					},
					{
						item: 'ring',
						pos: {
							x1: 360,
							x2: 380,
							y1: 335,
							y2: 370,
						},
					},
					{
						item: 'hat',
						pos: {
							x1: 150,
							x2: 500,
							y1: 100,
							y2: 300,
						},
					},
					{
						item: 'photo lens',
						pos: {
							x1: 550,
							x2: 650,
							y1: 360,
							y2: 460,
						},
					},
				]
			)
		</script>
	</body>
</html>
